DeadLockMain starts deadlock code.

Solution: 

 Lock order has been changed. Locking of resources occurs correctly.
  
Possible solutions:

1. Using semaphores or something for control of threads
2. Storing resources in concurrency collections